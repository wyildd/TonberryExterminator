<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>The Inconspicuous Tonberry</title>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans|Meddon" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <!-- JQuery CDN -->
    <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <!-- Foundation CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.css">
    <!-- Font Awesome CSS -->
    <script defer src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
    <!-- File CSS -->
    <link rel="stylesheet" type="text/css" href="css/styles.css">
</head>

<body>
    <nav class="hover-underline-menu" data-menu-underline-from-center>
        <ul class="menu align-center">
            <li><img src="assets/dice2.png" id="icon" /><a href="/"></a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/mission">Mission</a></li>
            <li><a href="https://www.redbubble.com/people/incon?asc=u">Merchandise</a></li>
            <li><a href="/add">Create</a></li>
        </ul>
    </nav>
    <div class="row" id="header">
        <h1 class="name" id="header" id="monster"><a href="index.html"><img src="assets/tonberry4.png" id="tonberry"/></a>  Tonberry
        <hr>
        </h1>
    </div>
    <!-- Content Div -->
    <div class="row fullWidth">
        <h3 id="origin">
            
        </h3>
        <div class="large-12 columns" id="mainContent">            
            <p id="strategy"></p>
        </div>
        <h5 id="difficulty">
            
        </h5>
    </div>
    <footer>
        <div class="wrap row small-up-1 medium-up-3">
            <div class="column">
                <h4><strong>Social Media</strong></h4>
                <hr>
                <a href="https://www.facebook.com/inconspicuous.tonberry"><i class="fab fa-facebook-square" id="facebook"></i></a>
                <a href="https://www.instagram.com/inconspicuous_tonberry/"><i class="fab fa-instagram" id="instagram" aria-hidden="true"></i></a>
                <a href="https://twitter.com/incon_tonberry"><i class="fab fa-twitter-square" id="twitter"></i></a>
                <a href="https://github.com/wyildd/TonberryExterminator"><i class="fab fa-github-square" id="github"></i></a>
            </div>
            <div class="column">
                <h4><strong>Contact Us</strong></h4>
                <hr>
                <a href="mailto:inconspicuous.tonberry@gmail.com"><i class="far fa-envelope" id="mail"></i></a>
            </div>
            <div class="column" id="store">
                <h4><strong>Store</strong></h4>
                <hr>
                <a href="https://www.redbubble.com/people/incon?asc=u"><i class="fas fa-shopping-basket" id="shop"></i></a>
            </div>
        </div>
    </footer>
    <!-- Foundation JS -->
    <script src="https://cdn.jsdelivr.net/foundation/6.2.4/foundation.min.js"></script>
    <!-- File JS -->
    <script type="text/javascript" src="js/jquery.js"></script>
<!--     <script type="text/javascript" src="js/result.js"></script> -->
    <script type="text/javascript">
    $(document).ready(function() {
        function getEnemyData(enemyId) {
            $.ajax({
              method: "GET",
              url: "/api/enemies/" + enemyId
            })
            .then(function(res) {
                // console.log(res)
                $(".name").empty()
                $(".name").text(res.name)
                $("#origin").text(res.origin)
                $("#strategy").text(res.strategy)
                $("#difficulty").text(res.difficulty)
            })
         }

         console.log(window.location.href)

         let url = window.location.href;

         function initialLoadEnemy () {
             let queryParams = url.split('?');
             console.log(queryParams);
             if (queryParams.length > 1) {
                let queries = queryParams[1];
                console.log(queries);
                let map = queries.split('=');
                console.log(map)
                for (let i = 0; i < map.length; i++) {
                    if (map[i] === 'enemies_id') {
                        console.log(map[i])
                        return getEnemyData(map[i + 1]);
                    } else {
                        continue;
                    }
                }
             }
         }

         initialLoadEnemy()
            
 })
    </script>
</body>

</html>